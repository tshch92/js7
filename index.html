<html>
  <head>
  </head>
  <body>
    
    <script>

      var rawArray = [

        { 
          app: 'telegram',
          message: 'Some text message',
          sender: 'Ivan Petrov',
          date: '31/07/2019',
        },

        { 
          app: 'telegram',
          message: 'Some text message',
          sender: 'Maria Fedorova',
          date: '31/07/2019',
        },

        { 
          app: 'instagram',
          message: 'Some text message',
          sender: 'Ivan Petrov',
          date: '31/07/2019',
        },

        { 
          app: 'telegram',
          message: 'Some text message',
          sender: 'Ivan Petrov',
          date: '31/07/2019',
        },

        { 
          app: 'instagram',
          message: 'Some text message',
          sender: 'Maria Fedorova',
          date: '31/07/2019',
        },

        { 
          app: 'viber',
          message: 'Some text message',
          sender: 'John Doe',
          date: '31/07/2019',
        },

      ];

      // var exampleArray = {

      //   telegram: [

      //     [

      //       { 
      //         app: 'telegram',
      //         message: 'Some text message',
      //         sender: 'Ivan Petrov',
      //         date: '31/07/2019',
      //       },

      //       { 
      //         app: 'telegram',
      //         message: 'Some text message',
      //         sender: 'Ivan Petrov',
      //         date: '31/07/2019',
      //       },

      //     ],

      //     [

      //       { 
      //         app: 'telegram',
      //         message: 'Some text message',
      //         sender: 'Maria Fedorova',
      //         date: '31/07/2019',
      //       },

      //     ],

      //   ],

      //   instagram: [

      //     [

      //       { 
      //         app: 'instagram',
      //         message: 'Some text message',
      //         sender: 'Ivan Petrov',
      //         date: '31/07/2019',
      //       },

      //     ],

      //     [

      //       { 
      //         app: 'instagram',
      //         message: 'Some text message',
      //         sender: 'Maria Fedorova',
      //         date: '31/07/2019',
      //       },

      //     ]

      //   ],

      //   viber: [

      //   [ 
      //     { 
      //       app: 'viber',
      //       message: 'Some text message',
      //       sender: 'John Doe',
      //       date: '31/07/2019',
      //     }, 
      //   ],

      //   ]

      // };

      function sort(array, key) {

        var uniqueSortValues = []; 

        var result = {};

        array.forEach(element => {

          if (!uniqueSortValues.includes(element[key])) {

            uniqueSortValues.push(element[key]);

            result[element[key]] = [];

          }

          result[element[key]].push(element);
       
        });
          
        return result;

      }

      function sort2(array, key1, key2) {

        var result = []; 

        var firstKeySort = sort(array, key1);

        for (var k in firstKeySort) {

          var uniqueSortValues = [];

          firstKeySort[k].forEach(element => {

            if (!uniqueSortValues.includes(element[key2])) {

              uniqueSortValues.push(element[key2]);

              result[k] = [];

            }

          });

          for (var i = 0; i<uniqueSortValues.length; i++) {

            var secondKeySort = [];

            firstKeySort[k].forEach(element => {

              if (element[key2] === (uniqueSortValues[i])) {

                secondKeySort.push(element);

              }

            });

            result[k].push(secondKeySort);
            
          };

        }

        // for (var item in firstKeySort) {

        //   var res2 = sort(firstKeySort[item], key2);

        //   result[item] = res2;

        // }
          
        return result;

      }
      

      // console.log(exampleArray);
      // console.log('-----------------');
      console.log(sort(rawArray, 'app'));
      console.log('-----------------');
      console.log(sort2(rawArray, 'app', 'sender'));

    </script>
  </body>
</html>